{"ast":null,"code":"import _objectSpread from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{withRouter}from\"../common/with-router\";import MedicineDataService from\"../services/medicine.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Medicine=/*#__PURE__*/function(_Component){_inherits(Medicine,_Component);var _super=_createSuper(Medicine);function Medicine(props){var _this;_classCallCheck(this,Medicine);_this=_super.call(this,props);_this.onChangeTitle=_this.onChangeTitle.bind(_assertThisInitialized(_this));_this.onChangeDescription=_this.onChangeDescription.bind(_assertThisInitialized(_this));_this.getMedicine=_this.getMedicine.bind(_assertThisInitialized(_this));_this.updateMedicine=_this.updateMedicine.bind(_assertThisInitialized(_this));_this.deleteMedicine=_this.deleteMedicine.bind(_assertThisInitialized(_this));_this.state={currentMedicine:{id:null,name:\"\",description:\"\",brand:\"\",quantity:0,consumption_unit:\"\",inventory_type:\"\",inventory_location:\"\",price:0,low_stock:false},message:\"\"};return _this;}_createClass(Medicine,[{key:\"componentDidMount\",value:function componentDidMount(){this.getMedicine(this.props.router.params.id);}},{key:\"onChangeName\",value:function onChangeName(e){var name=e.target.value;this.setState(function(prevState){return{currentMedicine:_objectSpread(_objectSpread({},prevState.currentMedicine),{},{name:name})};});}},{key:\"onChangeDescription\",value:function onChangeDescription(e){var description=e.target.value;this.setState(function(prevState){return{currentMedicine:_objectSpread(_objectSpread({},prevState.currentMedicine),{},{description:description})};});}},{key:\"getMedicine\",value:function getMedicine(id){var _this2=this;MedicineDataService.get(id).then(function(response){_this2.setState({currentMedicine:response.data});console.log(response.data);}).catch(function(e){console.log(e);});}},{key:\"updateMedicine\",value:function updateMedicine(){var _this3=this;MedicineDataService.update(this.state.currentMedicine.id,this.state.currentMedicine).then(function(response){console.log(response.data);_this3.setState({message:\"The medicine was updated successfully!\"});}).catch(function(e){console.log(e);});}},{key:\"deleteMedicine\",value:function deleteMedicine(){var _this4=this;MedicineDataService.delete(this.state.currentMedicine.id).then(function(response){console.log(response.data);_this4.props.router.navigate(\"/medicines\");}).catch(function(e){console.log(e);});}},{key:\"render\",value:function render(){var currentMedicine=this.state.currentMedicine;return/*#__PURE__*/_jsx(\"div\",{children:currentMedicine?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Medicine\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"name\",value:currentMedicine.name,onChange:this.onChangeName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:currentMedicine.description,onChange:this.onChangeDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Inventory status:\"})}),currentMedicine.low_stock?\"Low stock\":\"High stock\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"badge badge-danger mr-2\",onClick:this.deleteMedicine,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"badge badge-success\",onClick:this.updateMedicine,children:\"Update\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a Medicine...\"})]})});}}]);return Medicine;}(Component);export default withRouter(Medicine);","map":{"version":3,"names":["React","Component","withRouter","MedicineDataService","jsx","_jsx","jsxs","_jsxs","Medicine","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onChangeTitle","bind","_assertThisInitialized","onChangeDescription","getMedicine","updateMedicine","deleteMedicine","state","currentMedicine","id","name","description","brand","quantity","consumption_unit","inventory_type","inventory_location","price","low_stock","message","_createClass","key","value","componentDidMount","router","params","onChangeName","e","target","setState","prevState","_objectSpread","_this2","get","then","response","data","console","log","catch","_this3","update","_this4","delete","navigate","render","children","className","htmlFor","type","onChange","onClick"],"sources":["/Users/azou/Documents/Personal/react-crud/lab-mgmt-frontend/src/components/medicine.component.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"../common/with-router\";\nimport MedicineDataService from \"../services/medicine.service\";\n\nclass Medicine extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.getMedicine = this.getMedicine.bind(this);\n    this.updateMedicine = this.updateMedicine.bind(this);\n    this.deleteMedicine = this.deleteMedicine.bind(this);\n\n    this.state = {\n      currentMedicine: {\n        id: null,\n        name: \"\",\n        description: \"\",\n        brand: \"\",\n        quantity: 0,\n        consumption_unit: \"\",\n        inventory_type: \"\",\n        inventory_location: \"\",\n        price: 0,\n        low_stock: false,\n      },\n      message: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.getMedicine(this.props.router.params.id);\n  }\n\n  onChangeName(e) {\n    const name = e.target.value;\n\n    this.setState((prevState) => ({\n      currentMedicine: {\n        ...prevState.currentMedicine,\n        name: name,\n      },\n    }));\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n\n    this.setState((prevState) => ({\n      currentMedicine: {\n        ...prevState.currentMedicine,\n        description: description,\n      },\n    }));\n  }\n\n  getMedicine(id) {\n    MedicineDataService.get(id)\n      .then((response) => {\n        this.setState({\n          currentMedicine: response.data,\n        });\n        console.log(response.data);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  updateMedicine() {\n    MedicineDataService.update(\n      this.state.currentMedicine.id,\n      this.state.currentMedicine\n    )\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          message: \"The medicine was updated successfully!\",\n        });\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  deleteMedicine() {\n    MedicineDataService.delete(this.state.currentMedicine.id)\n      .then((response) => {\n        console.log(response.data);\n        this.props.router.navigate(\"/medicines\");\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { currentMedicine } = this.state;\n\n    return (\n      <div>\n        {currentMedicine ? (\n          <div className=\"edit-form\">\n            <h4>Medicine</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Name</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"name\"\n                  value={currentMedicine.name}\n                  onChange={this.onChangeName}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={currentMedicine.description}\n                  onChange={this.onChangeDescription}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>\n                  <strong>Inventory status:</strong>\n                </label>\n                {currentMedicine.low_stock ? \"Low stock\" : \"High stock\"}\n              </div>\n            </form>\n\n            {/* {currentMedicine.published ? (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updatePublished(false)}\n              >\n                UnPublish\n              </button>\n            ) : (\n              <button\n                className=\"badge badge-primary mr-2\"\n                onClick={() => this.updatePublished(true)}\n              >\n                Low stock\n              </button>\n            )} */}\n\n            <button\n              className=\"badge badge-danger mr-2\"\n              onClick={this.deleteMedicine}\n            >\n              Delete\n            </button>\n\n            <button\n              type=\"submit\"\n              className=\"badge badge-success\"\n              onClick={this.updateMedicine}\n            >\n              Update\n            </button>\n            <p>{this.state.message}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a Medicine...</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Medicine);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}